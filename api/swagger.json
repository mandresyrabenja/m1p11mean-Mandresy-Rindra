{
    "swagger": "2.0",
    "info": {
      "title": "M1 P11 API Documentation",
      "description": "Documentation of Coiffure API",
      "version": "1.0"
    },
    "produces": ["application/json"], 
    "paths": {
        "/api/v1/auth/register":{
            "post":{
                "tags": ["Public"],
                "description": "Client registration",
                "parameters": [
                    { "name":"firstName", "in": "formData", "required": true, "type": "string" },
                    { "name":"lastName", "in": "formData", "required": true, "type": "string" },
                    { "name":"email", "in": "formData", "required": true, "type": "string" },
                    { "name":"password", "in": "formData", "required": true, "type": "string", "minLength":6 },
                    { "name":"gender", "in": "formData", "required": true, "type": "string", "default": "F" }
                ],
                "responses": {}
            }
          },
          "/api/v1/auth/login":{
            "post":{
                "tags": ["Public"],
                "description": "User Login",
                "parameters": [
                    { "name":"email", "in": "formData", "required": true, "type": "string", "default": "jean.baptiste@gmail.com" },
                    { "name":"password", "in": "formData", "required": true, "type": "string", "default": "abcd1234" }
                ],
                "responses": {}
            }
          },
          "/api/v1/auth/verify/{token}":{
            "get":{
              "tags":["Public"],
              "description": "Verify client account using token",
              "parameters": [{ "name": "token","in": "path","required": true } ],
              "responses":{}
            }
          },
          "/api/v1/auth/resend":{
            "post":{
              "tags":["Public"],
              "description": "Resend Verification Email",
              "parameters": [{ "name": "email","in": "formData","required": true }],
              "responses":{}
            }
          },
          "/api/v1/auth/validate-token":{
            "get":{
              "tags":["Auth"],
              "description": "Validate User Token",
              "parameters": [
                { "name": "Authorization", "in": "header", "type": "string", "default": "Bearer ", "required": false  }
              ],
              "responses":{}
            }
          },
          "/api/v1/auth/refresh":{
            "post":{
              "tags":["Auth"],
              "description": "Refresh User Token",
              "parameters": [
                { "name": "Authorization", "in": "header", "type": "string", "default": "Bearer ", "required": false  }
              ],
              "responses":{}
            }
          },
          "/api/v1/services":{
            "post":{
              "tags":["Service"],
              "description": "Create a Service",
              "consumes": ["multipart/form-data"],
              "parameters": [
                { "name": "Authorization", "in": "header", "type": "string", "default": "Bearer ", "required": true  },
                { "name":"name", "in": "formData", "required": true, "type": "string" },
                { "name":"price", "in": "formData", "required": true, "type": "number" },
                { "name":"duration", "in": "formData", "required": true, "type": "number" },
                { "name":"commission", "in": "formData", "required": true, "type": "number" },
                { "name": "serviceFile", "in": "formData", "required": true, "type": "file" }
              ],
              "responses":{}
            },
            "get":{
              "tags":["Service"],
              "description": "Get All Services",
              "parameters": [
                { "name": "Authorization", "in": "header", "type": "string", "default": "Bearer ", "required": true  },
                { "name":"pageNumber", "in": "query", "required": true, "type": "number", "default": 1 },
                { "name":"rowsPerPage", "in": "query", "required": true, "type": "number", "default": 5 }
              ],
              "responses":{}
            }
          },
          "/api/v1/services/{id}":{
            "get":{
              "tags":["Service"],
              "description": "Get Service by ID",
              "parameters": [
                { "name": "id","in": "path","required": true },
                { "name": "Authorization", "in": "header", "type": "string", "default": "Bearer ", "required": true  }
              ],
              "responses":{}
            },
            "put":{
              "tags":["Service"],
              "description": "Update a Service",
              "parameters": [
                { "name": "id","in": "path","required": true },
                { "name": "Authorization", "in": "header", "type": "string", "default": "Bearer ", "required": true  },
                { "name":"name", "in": "formData", "required": false, "type": "string" },
                { "name":"price", "in": "formData", "required": false, "type": "number" },
                { "name":"duration", "in": "formData", "required": false, "type": "number" },
                { "name":"commission", "in": "formData", "required": false, "type": "number" }
              ],
              "responses":{}
            },
            "delete":{
              "tags":["Service"],
              "description": "Delete a Service",
              "parameters": [
                { "name": "id","in": "path","required": true },
                { "name": "Authorization", "in": "header", "type": "string", "default": "Bearer ", "required": true  }
              ],
              "responses":{}
            }
          },
          "/api/v1/employees":{
            "post": {
              "tags":["Employee"],
              "description": "Hire an employee",
              "consumes": ["application/json"],
              "parameters": [
                { "name": "Authorization", "in": "header", "type": "string", "default": "Bearer ", "required": true  },
                {
                  "in": "body",
                  "required": true,
                  "name": "employeeData",
                  "schema": {
                    "type": "object",
                    "properties": {
                      "user": {
                        "type": "object",
                        "properties": {
                          "firstName": {
                            "type": "string",
                            "example": "Jean"
                          },
                          "lastName": {
                            "type": "string",
                            "example": "Rakoto"
                          },
                          "gender": {
                            "type": "string",
                            "example": "F"
                          },
                          "email": {
                            "type": "string",
                            "example": "jean.rakoto@mail.com"
                          },
                          "password": {
                            "type": "string",
                            "example": "abcd1234"
                          }
                        }
                      },
                      "workSchedule": {
                        "type": "object",
                        "properties": {
                          "startHour": {
                            "type": "string",
                            "example": "09:00"
                          },
                          "endHour": {
                            "type": "string",
                            "example": "17:00"
                          }
                        }
                      },
                      "serviceId": {
                        "type": "string",
                        "example": "changeThisToTheServiceOfTheNewEmployee"
                      },
                      "nationalId": {
                        "type": "number",
                        "example": "123456789123"
                      }
                    }
                  }
                }
              ],
              "responses": {}
            },
            "get":{
              "tags":["Employee"],
              "description": "Get All Employees",
              "parameters": [
                { "name": "Authorization", "in": "header", "type": "string", "default": "Bearer ", "required": true  },
                { "name":"pageNumber", "in": "query", "required": true, "type": "number", "default": 1 },
                { "name":"rowsPerPage", "in": "query", "required": true, "type": "number", "default": 5 }
              ],
              "responses":{}
            }
          },
          "/api/v1/employees/{id}/image":{
            "put":{
              "tags":["Employee"],
              "description": "Add Employee profile pics",
              "consumes": ["multipart/form-data"],
              "parameters": [
                { "name": "Authorization", "in": "header", "type": "string", "default": "Bearer ", "required": true  },
                { "name": "id","in": "path","required": true },
                { "name": "employeeFile", "in": "formData", "required": true, "type": "file" }
              ],
              "responses": {}
            },
            "get":{
              "tags":["Employee"],
              "description": "Get Employee profile picture",
              "parameters": [
                { "name": "id","in": "path","required": true },
                { "name": "Authorization", "in": "header", "type": "string", "default": "Bearer ", "required": true  }
              ],
              "responses":{}
            }
          },
          "/api/v1/employees/{id}":{
            "get":{
              "tags":["Employee"],
              "description": "Get Employee by ID",
              "parameters": [
                { "name": "id","in": "path","required": true },
                { "name": "Authorization", "in": "header", "type": "string", "default": "Bearer ", "required": true  }
              ],
              "responses":{}
            },
            "put":{
              "tags":["Employee"],
              "description": "Update an Employee",
              "consumes": ["application/json"],
              "parameters": [
                { "name": "Authorization", "in": "header", "type": "string", "default": "Bearer ", "required": true  },
                {
                  "in": "body",
                  "required": true,
                  "name": "employeeData",
                  "schema": {
                    "type": "object",
                    "properties": {
                      "user": {
                        "type": "object",
                        "properties": {
                          "firstName": {
                            "type": "string",
                            "example": "Jean"
                          },
                          "lastName": {
                            "type": "string",
                            "example": "Rakoto"
                          },
                          "email": {
                            "type": "string",
                            "example": "jean.rakoto@mail.com"
                          },
                          "password": {
                            "type": "string",
                            "example": "abcd1234"
                          }
                        }
                      },
                      "serviceId": {
                        "type": "string",
                        "example": "changeThisToTheServiceOfTheNewEmployee"
                      },
                      "nationalId": {
                        "type": "number",
                        "example": "123456789123"
                      }
                    }
                  }
                }
              ],
              "responses": {}
            },
            "delete":{
              "tags":["Employee"],
              "description": "Delete an Employee",
              "parameters": [
                { "name": "id","in": "path","required": true },
                { "name": "Authorization", "in": "header", "type": "string", "default": "Bearer ", "required": true  }
              ],
              "responses":{}
            }
          },
          "/api/v1/appointments": {
            "post": {
              "tags": ["Appointment"],
              "description": "Book an appointment",
              "consumes": ["application/json"],
              "parameters": [
                { "name": "Authorization", "in": "header", "type": "string", "default": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3QuYXBwb2ludEBtYWlsLmNvbSIsImlkIjoiNjVkOGEzMDM4MGM2ZmIyOWEyMDM1NjFjIiwidGltZSI6IjIwMjQtMDItMjRUMTI6Mzc6NTguODI4WiIsInJvbGUiOiJ1c2VyIiwiZmlyc3ROYW1lIjoidGVzdEFwcG9pbnQiLCJsYXN0TmFtZSI6InRlc3RBcHBvaW50IiwicmVmcmVzaFRva2VuIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SmxiV0ZwYkNJNkluUmxjM1F1WVhCd2IybHVkRUJ0WVdsc0xtTnZiU0lzSW1sa0lqb2lOalZrT0dFek1ETTRNR00yWm1JeU9XRXlNRE0xTmpGaklpd2lkR2x0WlNJNklqSXdNalF0TURJdE1qUlVNVEk2TXpjNk5UZ3VPREk0V2lJc0luSnZiR1VpT2lKMWMyVnlJaXdpWm1seWMzUk9ZVzFsSWpvaWRHVnpkRUZ3Y0c5cGJuUWlMQ0pzWVhOMFRtRnRaU0k2SW5SbGMzUkJjSEJ2YVc1MElpd2lhV0YwSWpveE56QTROemM0TWpjNExDSmxlSEFpT2pFM01URXpOekF5TnpoOS5TX0pBdmFxbUVwXzRBRDZRN0xhdjN6MWNyRWFVc0I1T3lQMXU2d1pxSUZRIiwiaWF0IjoxNzA4Nzc4Mjc4LCJleHAiOjE3MDg3OTI2Nzh9.PfT5Bz6ckBdNmotcITq8uAJjp-rtom6_dbGF4F0Fl54", "required": true  },
                {
                  "in": "body",
                  "required": true,
                  "name": "appointmentData",
                  "schema": {
                    "type": "object",
                    "properties": {
                      "startDateTime": {
                        "type": "string",
                        "example": "2024-02-24T09:00"
                      },
                      "mapServiceEmployees": {
                        "type": "array",
                        "example": [
                          {
                            "employeeId": "65d74e0059706fb32059bc97",
                            "serviceId": "65ce55d55ee61cd2224848fd"
                          }
                        ]
                      }
                    }
                  }
                }
              ],
              "responses": {}
            }
          },
          "/api/v1/appointments/history": {
            "get": {
              "tags": ["Appointment"],
              "description": "Get appointment history",
              "consumes": ["application/json"],
              "parameters": [
                { "name": "Authorization", "in": "header", "type": "string", "default": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3QuYXBwb2ludEBtYWlsLmNvbSIsImlkIjoiNjVkOGEzMDM4MGM2ZmIyOWEyMDM1NjFjIiwidGltZSI6IjIwMjQtMDItMjZUMDY6MTc6MDUuMDI3WiIsInJvbGUiOiJ1c2VyIiwiZmlyc3ROYW1lIjoidGVzdEFwcG9pbnQiLCJsYXN0TmFtZSI6InRlc3RBcHBvaW50IiwicmVmcmVzaFRva2VuIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SmxiV0ZwYkNJNkluUmxjM1F1WVhCd2IybHVkRUJ0WVdsc0xtTnZiU0lzSW1sa0lqb2lOalZrT0dFek1ETTRNR00yWm1JeU9XRXlNRE0xTmpGaklpd2lkR2x0WlNJNklqSXdNalF0TURJdE1qWlVNRFk2TVRjNk1EVXVNREkzV2lJc0luSnZiR1VpT2lKMWMyVnlJaXdpWm1seWMzUk9ZVzFsSWpvaWRHVnpkRUZ3Y0c5cGJuUWlMQ0pzWVhOMFRtRnRaU0k2SW5SbGMzUkJjSEJ2YVc1MElpd2lhV0YwSWpveE56QTRPVEk0TWpJMUxDSmxlSEFpT2pFM01URTFNakF5TWpWOS5KcUJNOVZtUEljVEZ5TnhxaDFGaHlYbW5UUkNsRUIwVW9oYURVVEJGZ0tjIiwiaWF0IjoxNzA4OTI4MjI1LCJleHAiOjE3MDg5NDI2MjV9._cUYUw6cR4T0mALWXN9-R0woFIeFXmNoc8k8Lfiqls8", "required": true  },
                { "name":"startDateTime", "in": "query", "required": true, "type": "string", "default": "2024-02-24T09:00" },
                { "name":"endDateTime", "in": "query", "required": false, "type": "string"}
                
              ],
              "responses": {}
            }
          }
    }
}